local WindUI = loadstring(game:HttpGet("https://github.com/Footagesus/WindUI/releases/latest/download/main.lua"))()
WindUI.Services.CustomKey = {
    Name = "Link Discord to See Key",
    Icon = "copy",
    Args = { "CorrectKey" },
    New = function(CorrectKey)
        local function validateKey(user_input)

            if user_input == CorrectKey then
                return true, "Key Berhasil! Selamat Datang."
            else
                return false, "Key Salah! Silahkan ambil di Discord."
            end
        end

        local function copyLink()
            -- Link discord kamu
            setclipboard("https://discord.gg/6AKuWmAgw7")
            return "Link Discord dicopy!"
        end

        return {
            Verify = validateKey,
            Copy = copyLink
        }
    end
}


-----------------------------------------------ESPSYSTEM
-- CLEANUP
if game.CoreGui:FindFirstChild("systemESP") then
    game.CoreGui.systemESP:Destroy()
end

-- Cleanup Drawing Objects dari sesi sebelumnya
if _G.DrawingObjects then
    for _, obj in pairs(_G.DrawingObjects) do
        pcall(function() obj:Remove() end)
    end
end
_G.DrawingObjects = {}

local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local LocalPlayer = Players.LocalPlayer
local VirtualUser = game:GetService("VirtualUser")
local Camera = workspace.CurrentCamera
local Lighting = game:GetService("Lighting")
local Player = game.Players.LocalPlayer
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local Remotes = ReplicatedStorage:WaitForChild("Remotes")
local Stats = game:GetService("Stats")
local Character = Player.Character
local Humanoid = Character:WaitForChild("Humanoid")



local ESPFolder = Instance.new("Folder", game.CoreGui)
ESPFolder.Name = "systemESP"

-- SETTINGS (Boolean Variable Baru)
_G.ESP_ENABLED = false
_G.ESP_TEAM = true
_G.ESP_ENEMY = true
_G.ESP_NAME = true
_G.ESP_BOX = true          -- GUI Box
_G.ESP_DRAWING_BOX = true  -- Drawing Box (Gaya script orang tadi)
_G.ESP_TRACERS = true     -- Tracer (Gaya script orang tadi)
_G.ESP_DISTANCE = true
_G.ESP_HIGHLIGHT = true
_G.ESP_HEALTHBAR = true

-- CONFIG WARNA
local function GetPlayerColor(player)
    if player.Team ~= LocalPlayer.Team then
        return Color3.fromRGB(255, 0, 0) -- Merah (Musuh)
    else
        return Color3.fromRGB(9, 0, 219) -- Biru (Teman)
    end
end

local function CreateESP(player)
    if player == LocalPlayer then return end

    -- Objek Drawing (Tracer & Box Drawing)
    local Tracer = Drawing.new("Line")
    local DBox = Drawing.new("Square")
    
    table.insert(_G.DrawingObjects, Tracer)
    table.insert(_G.DrawingObjects, DBox)

    local function SetupESP()
        local char = player.Character or player.CharacterAdded:Wait()
        local hrp = char:WaitForChild("HumanoidRootPart", 10)
        local hum = char:WaitForChild("Humanoid", 10)

        if not hrp or not hum then return end

        -- 1. HIGHLIGHT (GUI)
        local hl = Instance.new("Highlight")
        hl.Name = "HighlightESP"
        hl.FillTransparency = 0.7
        hl.Parent = char

        -- 2. NAME & DISTANCE (GUI)
        local nameGUI = Instance.new("BillboardGui")
        nameGUI.Adornee = hrp
        nameGUI.AlwaysOnTop = true
        nameGUI.Size = UDim2.new(5, 0, 1.5, 0)
        nameGUI.Parent = char

        local nameLabel = Instance.new("TextLabel")
        nameLabel.BackgroundTransparency = 1
        nameLabel.Font = Enum.Font.SourceSansBold
        nameLabel.TextSize = 16
        nameLabel.Size = UDim2.new(1, 0, 0.5, 0)
        nameLabel.Parent = nameGUI

        -- 3. HEALTHBAR (GUI)
        local hbGUI = Instance.new("BillboardGui")
        hbGUI.Size = UDim2.new(0.5, 0, 4, 0)
        hbGUI.StudsOffset = Vector3.new(-2.5, 0, 0)
        hbGUI.AlwaysOnTop = true
        hbGUI.Adornee = hrp
        hbGUI.Parent = char

        local back = Instance.new("Frame", hbGUI)
        back.BackgroundColor3 = Color3.new(0, 0, 0)
        back.Size = UDim2.new(0.3, 0, 1, 0)

        local privateBar = Instance.new("Frame", back)
        privateBar.BackgroundColor3 = Color3.new(0, 1, 0)
        privateBar.BorderSizePixel = 0
        privateBar.Size = UDim2.new(1, 0, 1, 0)

        -- 4. UPDATE LOOP
        local connection
        connection = RunService.RenderStepped:Connect(function()
            if not player or not player.Parent or not char or not char.Parent then
                Tracer:Remove()
                DBox:Remove()
                connection:Disconnect()
                return
            end

            local isTeammate = (player.Team == LocalPlayer.Team)
            local isVisible = _G.ESP_ENABLED and ((isTeammate and _G.ESP_TEAM) or (not isTeammate and _G.ESP_ENEMY))
            local rootPos, onScreen = Camera:WorldToViewportPoint(hrp.Position)
            local teamColor = GetPlayerColor(player)

            if not isVisible or not onScreen then
                hl.Enabled = false
                nameGUI.Enabled = false
                hbGUI.Enabled = false
                Tracer.Visible = false
                DBox.Visible = false
                return
            end

            -- UPDATE HIGHLIGHT & NAME
            hl.Enabled = _G.ESP_HIGHLIGHT
            hl.FillColor = teamColor
            hl.OutlineColor = teamColor

            nameGUI.Enabled = _G.ESP_NAME
            nameLabel.Text = player.Name .. (_G.ESP_DISTANCE and " ["..math.floor((Camera.CFrame.Position - hrp.Position).Magnitude).."m]" or "")
            nameLabel.TextColor3 = teamColor

            -- UPDATE HEALTHBAR
            hbGUI.Enabled = _G.ESP_HEALTHBAR
            local hpScale = math.clamp(hum.Health / hum.MaxHealth, 0, 1)
            privateBar.Size = UDim2.new(1, 0, hpScale, 0)
            privateBar.Position = UDim2.new(0, 0, 1 - hpScale, 0)
            privateBar.BackgroundColor3 = Color3.new(1, 0, 0):Lerp(Color3.new(0, 1, 0), hpScale)

            -- 5. UPDATE TRACER (Drawing System)
            if _G.ESP_TRACERS then
                Tracer.Visible = true
                Tracer.From = Vector2.new(Camera.ViewportSize.X / 2, Camera.ViewportSize.Y) -- Bottom Center
                Tracer.To = Vector2.new(rootPos.X, rootPos.Y)
                Tracer.Color = teamColor
                Tracer.Thickness = 1
                Tracer.Transparency = 0.8
            else
                Tracer.Visible = false
            end

            -- 6. UPDATE DRAWING BOX (Drawing System)
            if _G.ESP_DRAWING_BOX then
                local top = Camera:WorldToViewportPoint(hrp.Position + Vector3.new(0, 3, 0))
                local bottom = Camera:WorldToViewportPoint(hrp.Position - Vector3.new(0, 3.5, 0))
                local h = math.abs(top.Y - bottom.Y)
                local w = h * 0.6

                DBox.Visible = true
                DBox.Size = Vector2.new(w, h)
                DBox.Position = Vector2.new(rootPos.X - w/2, rootPos.Y - h/2)
                DBox.Color = teamColor
                DBox.Thickness = 2
                DBox.Filled = false
            else
                DBox.Visible = false
            end
        end)
    end
    
    SetupESP()
    player.CharacterAdded:Connect(SetupESP)
end

-- INITIALIZE
for _, p in ipairs(Players:GetPlayers()) do
    task.spawn(CreateESP, p)
end
Players.PlayerAdded:Connect(function(p)
    task.spawn(CreateESP, p)
end)
-----------------------------------------------------------------------------------
-----------------------------------------------------------------------------------
_G.SmoothSpeed = 1 -- Nilai 20-30 biasanya sudah sangat pas untuk "Smooth"
_G.SpeedEnabled = false

RunService.RenderStepped:Connect(function(deltaTime)
    local Character = Player.Character
    if not Character then return end
    
    local Root = Character:FindFirstChild("HumanoidRootPart")
    local Hum = Character:FindFirstChild("Humanoid")
    
    if Root and Hum and _G.SpeedEnabled then
        if Hum.MoveDirection.Magnitude > 0 then
            -- DeltaTime memastikan kecepatan SAMA di semua PC (60 FPS atau 144 FPS)
            -- Kita kalikan MoveDirection dengan Speed dan deltaTime
            local moveVector = Hum.MoveDirection * _G.SmoothSpeed * deltaTime
            
            -- Pindahkan CFrame secara halus
            Root.CFrame = Root.CFrame + moveVector
        end
    end
end)
-----------------------------------------------------------------------------------
-----------------------------------------------------------------------------------
--[[local noclip = false

game:GetService("RunService").Stepped:Connect(function()
	if noclip then
		if Character then
			for _, part in pairs(Character:GetDescendants()) do
				if part:IsA("BasePart") and part.CanCollide then
					part.CanCollide = false
				end
			end
		end
	else
		if Character then
			for _, part in pairs(Character:GetDescendants()) do
				if part:IsA("BasePart") then
					part.CanCollide = true
				end
			end
		end
	end
end)]]
----------------------------------------------------------------------------------
----------------------------------------------------------------------------------
local AntiAFK_Enabled = true

-- Event 'Idled' akan terpanggil otomatis oleh Roblox jika kamu diam selama 2-5 menit
LocalPlayer.Idled:Connect(function()
    if AntiAFK_Enabled then
        VirtualUser:CaptureController()
        VirtualUser:ClickButton2(Vector2.new(0, 0))
    else
    end
end)
----------------------------------------------------------------------------------
----------------------------------------------------------------------------------

-- // MASTER TOGGLE (Satu saklar untuk semua)
_G.Master_ObjectESP = false 

-- // CONFIGURATION TABLE (Pusat kendali tiap object)
local TargetConfigs = {
    ["Gate"] = {
        DisplayName = "Gate", 
        Color = Color3.fromRGB(255, 255, 255), -- Putih
        Enabled = false -- Bisa dimatikan khusus yang ini saja
    },
    ["Generator"] = {
        DisplayName = "Generator", 
        Color = Color3.fromRGB(255, 255, 255), -- Putih
        Enabled = false
    },
    ["Hook"] = {
        DisplayName = "Hook", 
        Color = Color3.fromRGB(255, 0, 0), -- Merah
        Enabled = false 
    },
    ["Palletwrong"] = {
        DisplayName = "Pallet", 
        Color = Color3.fromRGB(255, 251, 0), -- Kuning
        Enabled = false 
    },
    ["Window"] = {
        DisplayName = "Window", 
        Color = Color3.fromRGB(62, 228, 235), -- Blue Clay meybe xD.
        Enabled = false 
    },
    ["ChristmasTree"] = {
        DisplayName = "Tree", 
        Color = Color3.fromRGB(7, 255, 0), -- Green
        Enabled = false 
    },
    ["Gift"] = {
        DisplayName = "Gift", 
        Color = Color3.fromRGB(255, 251, 0), -- Blue Clay meybe xD.
        Enabled = false 
    },
}

-- Fungsi untuk membuat ESP
local function CreateObjectESP(obj)
    local config = TargetConfigs[obj.Name]
    if not config or obj:FindFirstChild("ESP_Added") then return end

    local root = obj:IsA("BasePart") and obj or obj:FindFirstChildWhichIsA("BasePart")
    if not root then return end

    Instance.new("BoolValue", obj).Name = "ESP_Added"

    -- 1. HIGHLIGHT
    local hl = Instance.new("Highlight")
    hl.FillColor = config.Color
    hl.OutlineColor = Color3.new(1, 1, 1)
    hl.FillTransparency = 0.5
    hl.Parent = obj

    -- 2. BILLBOARD GUI
    local gui = Instance.new("BillboardGui")
    gui.Adornee = root
    gui.Size = UDim2.new(5, 0, 1.5, 0)
    gui.AlwaysOnTop = true
    gui.Parent = obj

    local nameLabel = Instance.new("TextLabel", gui)
    nameLabel.BackgroundTransparency = 1
    nameLabel.TextColor3 = config.Color
    nameLabel.Font = Enum.Font.SourceSansBold
    nameLabel.TextSize = 16
    nameLabel.Size = UDim2.new(1, 0, 0.5, 0)
    nameLabel.Text = config.DisplayName

    local distLabel = Instance.new("TextLabel", gui)
    distLabel.BackgroundTransparency = 1
    distLabel.TextColor3 = config.Color
    distLabel.Font = Enum.Font.SourceSansBold
    distLabel.TextSize = 13
    distLabel.Position = UDim2.new(0, 0, 0.4, 0)
    distLabel.Size = UDim2.new(1, 0, 0.5, 0)

    -- Tambahkan ini di dalam fungsi CreateObjectESP, tepat setelah bagian distLabel

    -- 2.1 PROGRESS LABEL (Khusus Generator)
    local progressLabel = Instance.new("TextLabel", gui)
    progressLabel.BackgroundTransparency = 1
    progressLabel.TextColor3 = Color3.fromRGB(0, 255, 127) -- Hijau cerah untuk progress
    progressLabel.Font = Enum.Font.SourceSansBold
    progressLabel.TextSize = 14
    progressLabel.Position = UDim2.new(0, 0, 0.8, 0) -- Di bawah jarak (Distance)
    progressLabel.Size = UDim2.new(1, 0, 0.5, 0)
    progressLabel.Visible = false -- Default mati

-- // UPDATE LOOP Bagian yang diubah sedikit
    local connection
    connection = RunService.RenderStepped:Connect(function()
        if not obj or not obj.Parent then
            connection:Disconnect()
            return
        end

        local isActuallyActive = _G.Master_ObjectESP and config.Enabled
        hl.Enabled = isActuallyActive
        gui.Enabled = isActuallyActive

        if isActuallyActive then
            -- Update Jarak
            local char = LocalPlayer.Character
            if char and char:FindFirstChild("HumanoidRootPart") then
                local dist = (char.HumanoidRootPart.Position - root.Position).Magnitude
                distLabel.Text = "[" .. math.floor(dist) .. "m]"
            end

            -- UPDATE PROGRESS (Khusus jika objek punya attribute RepairProgress)
            local progress = obj:GetAttribute("RepairProgress")
            if progress then
                progressLabel.Visible = true
                -- Mengasumsikan progress 0-100, kita bulatkan
                progressLabel.Text = "Progress: " .. math.floor(progress) .. "%"
                
                -- Efek warna: Makin penuh makin hijau, makin kosong makin merah (Opsional)
                progressLabel.TextColor3 = Color3.fromHSV(progress/300, 1, 1) 
                hl.FillColor = Color3.fromHSV(progress/300, 1, 1)
                hl.OutlineColor = Color3.fromHSV(progress/300, 1, 1)
            else
                progressLabel.Visible = false
            end
        end
    end)

    -- 3. UPDATE LOOP (Satu loop untuk cek Master & Sub-Toggle)
    local connection
    connection = RunService.RenderStepped:Connect(function()
        if not obj or not obj.Parent then
            connection:Disconnect()
            return
        end

        -- Logika: Harus Master ON DAN Sub-Config ON
        local isActuallyActive = _G.Master_ObjectESP and config.Enabled

        hl.Enabled = isActuallyActive
        gui.Enabled = isActuallyActive

        if isActuallyActive then
            local char = LocalPlayer.Character
            if char and char:FindFirstChild("HumanoidRootPart") then
                local dist = (char.HumanoidRootPart.Position - root.Position).Magnitude
                distLabel.Text = "[" .. math.floor(dist) .. "m]"
            end
        end
    end)
end

-- // INITIALIZE
for _, obj in ipairs(workspace:GetDescendants()) do CreateObjectESP(obj) end
workspace.DescendantAdded:Connect(CreateObjectESP)
-----------------------------------------------------------------------------------
-----------------------------------------------------------------------------------
-- // CONFIGURATION
_G.FullBright_Enabled = false
_G.NoFog_Enabled = false

-- // Simpan settingan asli game agar bisa dikembalikan saat OFF
local OriginalSettings = {
    Brightness = Lighting.Brightness,
    ClockTime = Lighting.ClockTime,
    FogEnd = Lighting.FogEnd,
    GlobalShadows = Lighting.GlobalShadows,
    Ambient = Lighting.Ambient
}

RunService.RenderStepped:Connect(function()
    -- 1. FULLBRIGHT LOGIC
    if _G.FullBright_Enabled then
        Lighting.Brightness = 2
        Lighting.ClockTime = 14 -- Paksa jadi siang hari
        Lighting.GlobalShadows = false -- Matikan bayangan agar tidak gelap di sudut
        Lighting.Ambient = Color3.fromRGB(255, 255, 255) -- Terang sampai ke dalam ruangan
    else
        -- Jika dimatikan, kembalikan ke settingan asli map
        Lighting.Brightness = OriginalSettings.Brightness
        Lighting.ClockTime = OriginalSettings.ClockTime
        Lighting.GlobalShadows = OriginalSettings.GlobalShadows
        Lighting.Ambient = OriginalSettings.Ambient
    end

    -- 2. NOFOG LOGIC
    if _G.NoFog_Enabled then
        Lighting.FogEnd = 100000 -- Buat kabut jadi sangat jauh (tak terlihat)
        -- Jika game pakai 'Atmosphere' object (Teknologi baru Roblox)
        local atmosphere = Lighting:FindFirstChildOfClass("Atmosphere")
        if atmosphere then
            atmosphere.Density = 0 -- Buat kabut jadi transparan total
        end
    else
        Lighting.FogEnd = OriginalSettings.FogEnd
        local atmosphere = Lighting:FindFirstChildOfClass("Atmosphere")
        if atmosphere then
            atmosphere.Density = 0.4 -- Standar density kabut game horror
        end
    end
end)
-----------------------------------------------------------------------------------
-----------------------------------------------------------------------------------
-- // CONFIGURATION
_G.BypassGate = false

-- // FUNCTION UNTUK UPDATE GATE
local function UpdateGate()
    -- Cari Folder Gate di Workspace (Sesuaikan jalurnya jika perlu)
    local GateFolder = workspace:FindFirstChild("Map")

    for _, obj in pairs(GateFolder:GetChildren()) do
        if obj.Name == "Gate" then
            local LeftGate = obj:FindFirstChild("LeftGate")
            local LeftGateEnd = obj:FindFirstChild("LeftGate-end")
            local Box = obj:FindFirstChild("Box")
            
            -- Kita cek RightGate juga sekalian biar sinkron
            local RightGate = obj:FindFirstChild("RightGate")
            local RightGateEnd = obj:FindFirstChild("RightGate-end")
    
            if _G.BypassGate then
                LeftGate.Transparency = 1
                RightGate.Transparency = 1
                LeftGateEnd.Transparency = 0
                RightGateEnd.Transparency = 0
                LeftGate.CanCollide = false
                RightGate.CanCollide = false
                RightGateEnd.CanCollide = true
                LeftGateEnd.CanCollide = true
                Box.CanCollide = false
            else
                LeftGate.Transparency = 0
                RightGate.Transparency = 0
                LeftGateEnd.Transparency = 1
                RightGateEnd.Transparency = 1
                LeftGate.CanCollide = true
                RightGate.CanCollide = true
                RightGateEnd.CanCollide = false
                LeftGateEnd.CanCollide = false
                Box.CanCollide = true
            end
        end
    end
end

-- // EKSEKUSI & LOOPING
task.spawn(function()
    while true do
        UpdateGate()
        task.wait(0.1)
    end
end)
-----------------------------------------------------------------------------------
-----------------------------------------------------------------------------------
local function SolveSkillCheck(eventObject)
    local folder = eventObject.Parent
    if not folder then return end
    
    local folderName = folder.Name:lower()
    -- Gunakan nama sesuai temuan: SkillCheckResultEvent
    local resultRemote = folder:FindFirstChild("SkillCheckResultEvent") 
    
    if resultRemote then
        -- Berdasarkan Cobalt: Mengirim "success", 1, dan object target
        -- Kita tiru argumen tersebut agar server tidak curiga
        if string.find(folderName, "generator") and _G.AutoGenerator then
            resultRemote:FireServer("success", 1) 
            warn(">>> Cobalt Bypass: Generator Success Sent")
        elseif string.find(folderName, "healing") and _G.AutoHealing then
            resultRemote:FireServer("success", 1)
            warn(">>> Cobalt Bypass: Healing Success Sent")
        end
    end
end

-- // METATABLE HOOKING (Mencegat Gagal & Memperbaiki Nama)
local mt = getrawmetatable(game)
oldNamecall = mt.__namecall
setreadonly(mt, false)
mt.__namecall = newcclosure(function(self, ...)
    local method = getnamecallmethod()
    local args = {...}

    if method == "FireServer" and _G.AutoGenerator then
        -- Blokir jika game mencoba mengirim sinyal gagal
        if self.Name == "SkillCheckFailEvent" then
            return nil
        end

        -- Jika player telat pencet, kita paksa argumennya sesuai data Cobalt
        if self.Name == "SkillCheckResultEvent" then
            args[1] = "success"
            args[2] = 2
            return oldNamecall(self, unpack(args))
        end
    end

    return oldNamecall(self, ...)
end)
setreadonly(mt, true)

-- // LISTENER
for _, subFolder in pairs(RemotesFolder:GetChildren()) do
    local startEvent = subFolder:FindFirstChild("SkillCheckEvent")
    if startEvent then
        startEvent.OnClientEvent:Connect(function()
            SolveSkillCheck(startEvent)
        end)
    end
end
---------------------------------------------------------------------------
---------------------------------------------------------------------------
local hitbox_Enable = false
local transparency_hitbox = 0.95
local hitbox_size = 10

RunService.RenderStepped:Connect(function()
    -- Loop ke semua pemain di dalam game
    for _, targetPlayer in ipairs(Players:GetPlayers()) do
        -- Pastikan kita tidak memperbesar badan sendiri dan karakter target ada
        if targetPlayer ~= LocalPlayer and targetPlayer.Character then
            local hrp = targetPlayer.Character:FindFirstChild("HumanoidRootPart")
            
            if hrp then
                if hitbox_Enable then
                    -- LIVE UPDATE: Otomatis berubah saat slider/toggle digeser
                    hrp.Size = Vector3.new(hitbox_size, hitbox_size, hitbox_size)
                    hrp.Transparency = transparency_hitbox
                    hrp.CanCollide = false -- Agar tidak tabrakan saat kita dekat musuh
                    hrp.Color = Color3.fromRGB(255, 0, 0) -- Opsional: Ubah warna jadi merah
                else
                    -- RESET: Kembalikan ke ukuran asli jika OFF
                    hrp.Size = Vector3.new(2, 2, 1)
                    hrp.Transparency = 1 -- Default HRP biasanya transparan total
                    hrp.CanCollide = true
                end
            end
        end
    end
end)
---------------------------------------------------------------------------
---------------------------------------------------------------------------
--[[ local AutoAttack = false

local RemotesAttack = ReplicatedStorage.Remotes.Attack.BasicAttack

task.spawn(function()
    while true do
        task.wait(0.2)

        if AutoAttack then
            RemotesAttack:FireServer()
            print("Attack Truss")
        end
    end
end) ]]
---------------------------------------------------------------------------
---------------------------------------------------------------------------
local NoFall = false 

local character = Player.Character

task.spawn(function()
    while true do
        task.wait(0.2)

        if NoFall then
            character:SetAttribute("speedboost", 1)
        end
    end

    if not NoFall then
        character:SetAttribute("speedboost", 1)
    end
end)

---------------------------------------------------------------------------
---------------------------------------------------------------------------
local LocateTeleport = "Lobby"
---------------------------------------------------------------------------
---------------------------------------------------------------------------
local AntiTrap = false

local FolderMap = workspace:FindFirstChild("Map")

for _, group in pairs(FolderMap:GetChildren()) do
    if group.Name == "Palletwrong" then
        for _, obj in pairs(group:GetDescendants()) do
            if obj:IsA("BasePart") then
                if AntiTrap then
                    obj.CanCollide = false
                    obj.Transparency = 1
                else
                    obj.CanCollide = true
                    obj.Transparency = 0
                end
            end
        end
    end
end
---------------------------------------------------------------------------
---------------------------------------------------------------------------
local SetFOVValue = 100
local EnableFOV = false

local function FieldOfViewCustom()
    if EnableFOV then
        Camera.FieldOfView = SetFOVValue
    else
        Camera.FieldOfView = 70
    end
end

Camera:GetPropertyChangedSignal("FieldOfView"):Connect(FieldOfViewCustom)
---------------------------------------------------------------------------
---------------------------------------------------------------------------
local ValultSpeed = false

local character = Player.Character

task.spawn(function()
    while true do
        task.wait(0.2)

        if ValultSpeed then
            character:SetAttribute("vaultspeed", 50)
        else
            character:SetAttribute("vaultspeed", 1)
        end
    end
end)
---------------------------------------------------------------------------
---------------------------------------------------------------------------
local RepairSpeedBoost = false

local character = Player.Character

task.spawn(function()
    while true do
        task.wait(0.2)

        if RepairSpeedBoost then
            character:SetAttribute("repairboost", 10000)
        else
            character:SetAttribute("repairboost", 1)
        end
    end
end)
---------------------------------------------------------------------------
---------------------------------------------------------------------------
---------------------------------------------------------------------------
---------------------------------------------------------------------------
local Window = WindUI:CreateWindow({
    Title = "Violence District",
    Icon = "rbxassetid://133739520556173", -- lucide icon
    Author = "NusantaBlox",
    Folder = "Nusantablox",
    
    Size = UDim2.fromOffset(580, 460),
    MinSize = Vector2.new(560, 350),
    MaxSize = Vector2.new(850, 560),
    Transparent = true,
    Theme = "Dark",
    Resizable = true,
    SideBarWidth = 200,
    BackgroundImageTransparency = 0.42,
    HideSearchBar = true,
    ScrollBarEnabled = false,

    User = {
        Enabled = true,
        Anonymous = false,
    },

    KeySystem = {
        Note = "Info Key in Discord | Click Get Key to copy Discord Server",
        API = {
            {
                Type = "CustomKey", -- Harus sama dengan nama di WindUI.Services
                CorrectKey = "NusantaBlox2026", -- Ganti ini jadi key sesukamu
            },
        },
    },
})


Window:EditOpenButton({
    Title = "Open/Close Menu",
    Icon = "minimize-2",
    CornerRadius = UDim.new(0,16),
    StrokeThickness = 2,
    Color = ColorSequence.new( -- gradient
        Color3.fromHex("FFFFFF"), 
        Color3.fromHex("000000")
    ),
    OnlyMobile = false,
    Enabled = true,
    Draggable = true,
})

local version = "2.8" -- Ini adalah STRING
local fps = 0
local ping = 0

local StatsTag = Window:Tag({
    Title = "Loading...",
    Color = Color3.fromHex("#30FF6A"),
    Radius = 13, 
})

local frames = 0
local last = os.clock()

RunService.RenderStepped:Connect(function()
    frames = frames + 1
    local now = os.clock()
    
    if now - last >= 1 then
        fps = frames
        frames = 0
        last = now
        
        -- Ambil Ping
        local item = Stats.Network.ServerStatsItem:FindFirstChild("Data Ping")
        if item then
            ping = math.floor(item:GetValue())
        end
        
        -- FIX: Pakai %s untuk version (String), %d untuk Ping & FPS (Angka)
        StatsTag:SetTitle(string.format("v%s | Ping: %d | FPS: %d", version, ping, fps))
    end
end)

WindUI:Notify({
    Title = "Connection Info!",
    Content = "Script Succesfuly Loaded!",
    Duration = 3.8, -- 3 seconds
    Icon = "cloud-check",
})

-- Tabs
local AboutTab = Window:Tab({
    Title = "About",
    Icon = "info", -- optional
    Locked = false,
})
Window:Divider()
local SurvivorTab = Window:Tab({
    Title = "Survivor",
    Icon = "user-check", -- optional
    Locked = false,
})
local KillerTab = Window:Tab({
    Title = "Killer",
    Icon = "sword", -- optional
    Locked = false,
})
Window:Divider()
local MainTab = Window:Tab({
    Title = "Main",
    Icon = "crown", -- optional
    Locked = false,
})
local EspTab = Window:Tab({
    Title = "ESP",
    Icon = "eye", -- optional
    Locked = false,
})
local PlayerTab = Window:Tab({
    Title = "Player",
    Icon = "user", -- optional
    Locked = false,
})
local TeleportTab = Window:Tab({
    Title = "Teleport",
    Icon = "map-pin", -- optional
    Locked = false,
})

--
AboutTab:Select()

--
local InviteCode = "6AKuWmAgw7"
local DiscordAPI = "https://discord.com/api/v10/invites/" .. InviteCode .. "?with_counts=true&with_expiration=true"

local Response = game:GetService("HttpService"):JSONDecode(WindUI.Creator.Request({
    Url = DiscordAPI,
    Method = "GET",
    Headers = {
        ["User-Agent"] = "RobloxBot/1.0",
        ["Accept"] = "application/json"
    }
}).Body)

if Response and Response.guild then
    local DiscordInfo = AboutTab:Paragraph({
        Title = "NusantaBlox | Indonesia Hub",
        Desc = 
            ' <font color="#52525b">•</font> Member Count : ' .. tostring(Response.approximate_member_count) .. 
            '\n <font color="#16a34a">•</font> Online Count : ' .. tostring(Response.approximate_presence_count)
        ,
        Image = "https://cdn.discordapp.com/icons/" .. Response.guild.id .. "/" .. Response.guild.icon .. ".png?size=1024",
        ImageSize = 42,
    })

    AboutTab:Button({
        Title = "Update Info",
        --Image = "refresh-ccw",
        Callback = function()
            local UpdatedResponse = game:GetService("HttpService"):JSONDecode(WindUI.Creator.Request({
                Url = DiscordAPI,
                Method = "GET",
            }).Body)
            
            if UpdatedResponse and UpdatedResponse and UpdatedResponse.guild then
                DiscordInfo:SetDesc(
                    ' <font color="#52525b">•</font> Member Count : ' .. tostring(UpdatedResponse.approximate_member_count) .. 
                    '\n <font color="#16a34a">•</font> Online Count : ' .. tostring(UpdatedResponse.approximate_presence_count)
                )
            end
        end
    })
else
    AboutTab:Paragraph({
        Title = "Error when receiving information about the Discord server",
        Desc = game:GetService("HttpService"):JSONEncode(Response),
        Image = "triangle-alert",
        ImageSize = 26,
        Color = "Red",
    })
end
AboutTab:Divider()
AboutTab:Paragraph({
    Title = "Offcial Website",
    Desc = "Copy and paste to browser, you cant get Key in website.",
    Image = "https://i.ibb.co.com/XrCRJ16f/Nusantablox.jpg",
    ImageSize = 30,
    Buttons = {
        {
            Icon = "copy",
            Title = "Copy Link",
            Callback = function() 
                setclipboard("https://jnkie.com/overview/nusantablox-hub")
            end,
        }
    }
})
AboutTab:Paragraph({
    Title = "Discord",
    Desc = "Join discord for more script and more Info",
    Image = "https://i.pinimg.com/736x/b5/d4/ce/b5d4ce10a744861ffd3314d20d116976.jpg",
    ImageSize = 30,
    Buttons = {
        {
            Icon = "copy",
            Title = "Copy Link",
            Callback = function()
                setclipboard("https://discord.gg/6AKuWmAgw7")
            end,
        }
    }
})

-----------------------------------------------------------------------------------
-----------------------------------------------------------------------------------
-----------------------------SURVIVOR
SurvivorTab:Section({ 
    Title = "Features Generator",
    Icon = "heater",
    TextSize = 17,
})
SurvivorTab:Toggle({
    Title = "Auto SkillCheck (Perfect)",
    Desc = "",
    Icon = "",
    Type = "Toggle",
    Value = false, -- default value
    Callback = function(state) 
        _G.AutoGenerator = state
    end
})
SurvivorTab:Section({ 
    Title = "Features Heal",
    Icon = "briefcase-medical",
    TextSize = 17,
})
SurvivorTab:Toggle({
    Title = "Auto SkillCheck (Perfect)",
    Desc = "",
    Icon = "",
    Type = "Toggle",
    Value = false, -- default value
    Callback = function(state) 
        _G.AutoHealing = state
    end
})
SurvivorTab:Section({ 
    Title = "Features Cheat",
    Icon = "biohazard",
    TextSize = 17,
})
SurvivorTab:Toggle({
    Title = "Repair Boost",
    Desc = "",
    Icon = "",
    Type = "Toggle",
    Value = false, -- default value
    Callback = function(state) 
        RepairSpeedBoost = state
    end
})
SurvivorTab:Button({
    Title = "Fling Killer | IN DEV",
    Desc = "",
    Locked = false,
    Callback = function()
        -- ...
    end
})
SurvivorTab:Button({
    Title = "Self UnHook (Not 100% but next time i try 100%)",
    Desc = "",
    Locked = false,
    Callback = function()
        local UnHookEvent = ReplicatedStorage.Remotes.Carry.SelfUnHookEvent

        UnHookEvent:FireServer()
    end
})
-----------------------------------------------------------------------------------
-----------------------------------------------------------------------------------
-----------------------------KILLER
KillerTab:Section({ 
    Title = "Features Killer",
    Icon = "swords",
    TextSize = 17,
})
KillerTab:Button({
    Title = "Kill All | IN DEV",
    Desc = "",
    Locked = false,
    Callback = function()
        -- ...
    end
})
KillerTab:Toggle({
    Title = "Auto Attack (No Animation) | IN DEV",
    Desc = "",
    Icon = "",
    Type = "Toggle",
    Value = false, -- default value
    Callback = function(state) 
        -- AutoAttack = state
    end
})
KillerTab:Section({ 
    Title = "Features Cheat",
    Icon = "biohazard",
    TextSize = 17,
})
KillerTab:Toggle({
    Title = "No Flashlight | IN DEV",
    Desc = "",
    Icon = "",
    Type = "Toggle",
    Value = false, -- default value
    Callback = function(state) 
        
    end
})
KillerTab:Toggle({
    Title = "Anti All Pallet",
    Desc = "",
    Icon = "",
    Type = "Toggle",
    Value = false, -- default value
    Callback = function(state) 
        AntiTrap = state
    end
})
KillerTab:Button({
    Title = "Third Person Camera for Killer",
    Desc = "",
    Locked = false,
    Callback = function()
        Player.CameraMode = Enum.CameraMode.ThirdPerson
    end
})
KillerTab:Section({ 
    Title = "Features Hitbox",
    Icon = "box",
    TextSize = 17,
})
KillerTab:Input({
    Title = "Set Transparency",
    Desc = "",
    Value = "0.95",
    InputIcon = "",
    Type = "Input", -- or "Textarea"
    Placeholder = "..",
    Callback = function(input) 
        transparency_hitbox = input
    end
})
KillerTab:Input({
    Title = "Set Size",
    Desc = "",
    Value = "10",
    InputIcon = "",
    Type = "Input", -- or "Textarea"
    Placeholder = "..",
    Callback = function(input) 
        hitbox_size = input
    end
})
KillerTab:Toggle({
    Title = "Enable Hitbox",
    Desc = "",
    Icon = "",
    Type = "Toggle",
    Value = false, -- default value
    Callback = function(state) 
        hitbox_Enable = state
    end
})
-----------------------------------------------------------------------------------
-----------------------------------------------------------------------------------
-----------------------------MAIN
MainTab:Section({ 
    Title = "Features Bypass",
    Icon = "lock-open",
    TextSize = 17,
})
MainTab:Toggle({
    Title = "Bypass Gate (Open Gate before Game End)",
    Desc = "",
    Icon = "",
    Type = "Toggle",
    Value = false, -- default value
    Callback = function(state) 
        _G.BypassGate = state
    end
})
MainTab:Section({ 
    Title = "Features Visual",
    Icon = "cloud",
    TextSize = 17,
})
MainTab:Toggle({
    Title = "Full Bright",
    Desc = "",
    Icon = "",
    Type = "Toggle",
    Value = false, -- default value
    Callback = function(state) 
        _G.FullBright_Enabled = state
    end
})
MainTab:Toggle({
    Title = "No Fog",
    Desc = "",
    Icon = "",
    Type = "Toggle",
    Value = false, -- default value
    Callback = function(state) 
        _G.NoFog_Enabled = state
    end
})
MainTab:Section({ 
    Title = "Features Field Of View",
    Icon = "view",
    TextSize = 17,
})
MainTab:Slider({
    Title = "Set FOV(Field Of View)",
    Desc = "",
    
    -- To make float number supported, 
    -- make the Step a float number.
    -- example: Step = 0.1
    Step = 1,
    Value = {
        Min = 1,
        Max = 125,
        Default = 100,
    },
    Callback = function(value)
        SetFOVValue = value
    end
})
MainTab:Toggle({
    Title = "Enable Custom FOV",
    Desc = "",
    Icon = "",
    Type = "Toggle",
    Value = false, -- default value
    Callback = function(state) 
        EnableFOV = state
    end
})
MainTab:Section({ 
    Title = "Misc",
    Icon = "settings",
    TextSize = 17,
})
MainTab:Toggle({
    Title = "Anti-AFK",
    Desc = "",
    Icon = "",
    Type = "Toggle",
    Value = true, -- default value
    Callback = function(state) 
        AntiAFK_Enabled = state
    end
})
-----------------------------------------------------------------------------------
-----------------------------------------------------------------------------------
-----------------------------ESP
EspTab:Section({ 
    Title = "Features ESP",
    Icon = "eye",
    TextSize = 17,
})
EspTab:Toggle({
    Title = "Enable ESP",
    Desc = "",
    Icon = "",
    Type = "Toggle",
    Value = false, -- default value
    Callback = function(state) 
        _G.ESP_ENABLED = state
        _G.Master_ObjectESP = state
    end
})
EspTab:Section({ 
    Title = "Role",
    Icon = "user",
    TextSize = 17,
})
EspTab:Toggle({
    Title = "ESP Survivor",
    Desc = "",
    Icon = "",
    Type = "Toggle",
    Value = true, -- default value
    Callback = function(state) 
        _G.ESP_TEAM = state
    end
})
EspTab:Toggle({
    Title = "ESP Killer",
    Desc = "",
    Icon = "",
    Type = "Toggle",
    Value = true, -- default value
    Callback = function(state) 
        _G.ESP_ENEMY = state
    end
})
EspTab:Section({ 
    Title = "Engine",
    Icon = "zap",
    TextSize = 17,
})
EspTab:Toggle({
    Title = "ESP Generator",
    Desc = "",
    Icon = "",
    Type = "Toggle",
    Value = false, -- default value
    Callback = function(state) 
        TargetConfigs["Generator"].Enabled = state
    end
})
EspTab:Toggle({
    Title = "ESP Gate",
    Desc = "",
    Icon = "",
    Type = "Toggle",
    Value = false, -- default value
    Callback = function(state) 
        TargetConfigs["Gate"].Enabled = state
    end
})
EspTab:Section({ 
    Title = "Object",
    Icon = "cuboid",
    TextSize = 17,
})
EspTab:Toggle({
    Title = "ESP Pallet",
    Desc = "",
    Icon = "",
    Type = "Toggle",
    Value = false, -- default value
    Callback = function(state) 
        TargetConfigs["Palletwrong"].Enabled = state
    end
})
EspTab:Toggle({
    Title = "ESP Hook",
    Desc = "",
    Icon = "",
    Type = "Toggle",
    Value = false, -- default value
    Callback = function(state) 
        TargetConfigs["Hook"].Enabled = state
    end
})
EspTab:Toggle({
    Title = "ESP Window",
    Desc = "",
    Icon = "",
    Type = "Toggle",
    Value = false, -- default value
    Callback = function(state) 
        TargetConfigs["Window"].Enabled = state
    end
})
EspTab:Section({ 
    Title = "Xmas",
    Icon = "tree-pine",
    TextSize = 17,
})
EspTab:Toggle({
    Title = "ESP Tree Xmas",
    Desc = "",
    Icon = "",
    Type = "Toggle",
    Value = false, -- default value
    Callback = function(state) 
        TargetConfigs["ChristmasTree"].Enabled = state
    end
})
EspTab:Toggle({
    Title = "ESP Gift",
    Desc = "",
    Icon = "",
    Type = "Toggle",
    Value = false, -- default value
    Callback = function(state)   -- Tracer (Gaya script orang tadi)
        TargetConfigs["Gift"].Enabled = state
    end
})
EspTab:Divider()
EspTab:Section({ 
    Title = "ESP Settings",
    Icon = "settings",
    TextSize = 17,
})
EspTab:Toggle({
    Title = "ESP Name",
    Desc = "",
    Icon = "",
    Type = "Toggle",
    Value = true, -- default value
    Callback = function(state) 
        _G.ESP_NAME = state
    end
})
EspTab:Toggle({
    Title = "ESP Distance",
    Desc = "",
    Icon = "",
    Type = "Toggle",
    Value = true, -- default value
    Callback = function(state)   -- Tracer (Gaya script orang tadi)
        _G.ESP_DISTANCE = state
    end
})
EspTab:Toggle({
    Title = "ESP HealthBar",
    Desc = "",
    Icon = "",
    Type = "Toggle",
    Value = true, -- default value
    Callback = function(state) 
        _G.ESP_HEALTHBAR = state
    end
})
EspTab:Toggle({
    Title = "ESP Highlight",
    Desc = "",
    Icon = "",
    Type = "Toggle",
    Value = true, -- default value
    Callback = function(state) 
        _G.ESP_HIGHLIGHT = state
    end
})
EspTab:Toggle({
    Title = "ESP Box",
    Desc = "",
    Icon = "",
    Type = "Toggle",
    Value = true, -- default value
    Callback = function(state) 
        _G.ESP_DRAWING_BOX = state
    end
})
EspTab:Toggle({
    Title = "ESP Tracers",
    Desc = "",
    Icon = "",
    Type = "Toggle",
    Value = true, -- default value
    Callback = function(state) 
        _G.ESP_TRACERS = state     
    end
})
-----------------------------------------------------------------------------------
-----------------------------------------------------------------------------------
-----------------------------PLAYER
PlayerTab:Section({ 
    Title = "Features Player",
    Icon = "rabbit",
    TextSize = 17,
})
PlayerTab:Slider({
    Title = "Set Speed",
    Desc = "",
    
    -- To make float number supported, 
    -- make the Step a float number.
    -- example: Step = 0.1
    Step = 1,
    Value = {
        Min = 1,
        Max = 125,
        Default = 1,
    },
    Callback = function(value)
        _G.SmoothSpeed = value
    end
})
PlayerTab:Toggle({
    Title = "Enable Speed",
    Desc = "",
    Icon = "",
    Type = "Toggle",
    Value = false, -- default value
    Callback = function(state) 
        _G.SpeedEnabled = state
    end
})
PlayerTab:Section({ 
    Title = "Features Power",
    Icon = "battery-charging",
    TextSize = 17,
})
PlayerTab:Toggle({
    Title = "No Clip",
    Desc = "",
    Icon = "",
    Type = "Toggle",
    Value = false, -- default value
    Callback = function(state) 
        --noclip = state
    end
})
PlayerTab:Toggle({
    Title = "No Fall",
    Desc = "",
    Icon = "",
    Type = "Toggle",
    Value = false, -- default value
    Callback = function(state) 
        NoFall = state
    end
})
PlayerTab:Toggle({
    Title = "Vault Speed Power",
    Desc = "",
    Icon = "",
    Type = "Toggle",
    Value = false, -- default value
    Callback = function(state) 
        ValultSpeed = state
    end
})
-----------------------------------------------------------------------------------
-----------------------------------------------------------------------------------
-----------------------------TELEPORT
TeleportTab:Section({ 
    Title = "Features Teleport",
    Icon = "compass",
    TextSize = 17,
})
TeleportTab:Dropdown({
    Title = "Select Place: ",
    Desc = "",
    Values = { "Lobby", "Game" },
    Value = "Lobby",
    Callback = function(option) 
        LocateTeleport = option
    end
})
TeleportTab:Button({
    Title = "Teleport to Place",
    Desc = "",
    Locked = false,
    Callback = function()
        local char = Player.Character
        local hrp = char:FindFirstChild("HumanoidRootPart")

        if LocateTeleport == "Lobby" then
            hrp.CFrame = CFrame.new(1973.07446, 734.54071, 3813.66284)
        elseif LocateTeleport == "Game" then
            local MapFolder = workspace:FindFirstChild("Map")
            local SpawnLocaton = MapFolder:FindFirstChild("SurvivorSpawn")

            hrp.CFrame = SpawnLocaton.CFrame
        end
    end
})


